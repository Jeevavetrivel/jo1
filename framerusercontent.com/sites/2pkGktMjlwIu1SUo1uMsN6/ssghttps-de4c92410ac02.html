// Animated line that follows either the mouse or a predefined path for Framer import{jsx as _jsx}from"react/jsx-runtime";import{useRef,useEffect,useState}from"react";import{addPropertyControls,ControlType}from"framer";/** * DrawLineCursor * * * @framerSupportedLayoutWidth
fixed * @framerSupportedLayoutHeight fixed */function DrawLineCursor(props){const{color,size,trailLength,hideCursor,mode,pathPoints,speed,style}=props;const canvasRef=useRef(null);const[bounds,setBounds]=useState({width:400,height:400});const trail=useRef([]);const
containerRef=useRef(null);const animationRef=useRef({t:0,lastTime:0});useEffect(()=>{if(!containerRef.current)return;const rect=containerRef.current.getBoundingClientRect();setBounds({width:rect.width,height:rect.height});},[style?.width,style?.height]);//
Mouse mode: update trail with mouse useEffect(()=>{if(mode!=="mouse")return;function handleMouseMove(e){if(!containerRef.current)return;const rect=containerRef.current.getBoundingClientRect();const x=e.clientX-rect.left;const y=e.clientY-rect.top;trail.current.push({x,y});if(trail.current.length>trailLength){trail.current.shift();}}function
handleMouseLeave(){trail.current=[];}document.addEventListener("mousemove",handleMouseMove);document.addEventListener("mouseleave",handleMouseLeave);return()=>{document.removeEventListener("mousemove",handleMouseMove);document.removeEventListener("mouseleave",handleMouseLeave);};},[mode,trailLength]);//
Path mode: animate along pathPoints useEffect(()=>{if(mode!=="path")return;trail.current=[];animationRef.current.t=0;animationRef.current.lastTime=0;function animatePath(ts){if(!Array.isArray(pathPoints)||pathPoints.length
<2)return;if(!containerRef.current)return;const
    total=pathPoints.length;let t=animationRef.current.t;let lastTime=animationRef.current.lastTime;if(!lastTime)lastTime=ts;const dt=(ts-lastTime)/1e3;t+=dt*speed;if(t>total-1)t=0;animationRef.current.t=t;animationRef.current.lastTime=ts;// Build trail const trailArr=[];for(let i=0;i
    <trailLength;i++){let idx=t-(trailLength-1-i)*.5;if(idx<0)idx+=total;const idx0=Math.floor(idx)%total;const idx1=(idx0+1)%total;const frac=idx-Math.floor(idx);const
        x=pathPoints[idx0].x*(1-frac)+pathPoints[idx1].x*frac;const y=pathPoints[idx0].y*(1-frac)+pathPoints[idx1].y*frac;trailArr.push({x,y});}trail.current=trailArr;requestAnimationFrame(animatePath);}requestAnimationFrame(animatePath);return()=>{animationRef.current.lastTime=0;};},[mode,pathPoints,trailLength,speed]);useEffect(()=>{const canvas=canvasRef.current;if(!canvas)return;const ctx=canvas.getContext("2d");let running=true;function draw(){ctx.clearRect(0,0,bounds.width,bounds.height);if(!hideCursor&&trail.current.length>1){ctx.save();ctx.lineJoin="round";ctx.lineCap="round";ctx.strokeStyle=color;ctx.lineWidth=size;ctx.globalAlpha=1;ctx.beginPath();ctx.moveTo(trail.current[0].x,trail.current[0].y);for(let
        i=1;i
        <trail.current.length;i++){ctx.lineTo(trail.current[i].x,trail.current[i].y);}ctx.stroke();ctx.restore();}if(running)requestAnimationFrame(draw);}draw();return()=>{running=false;};},[color,size,trailLength,hideCursor,bounds.width,bounds.height]);return /*#__PURE__*/_jsx("div",{ref:containerRef,style:{...style,width:"100%",height:"100%",position:"relative",overflow:"hidden",cursor:"default"},"aria-label":"Guided
            Line Container",children:/*#__PURE__*/_jsx("canvas",{ref:canvasRef,width:bounds.width,height:bounds.height,style:{width:"100%",height:"100%",display:hideCursor?"none":"block",position:"absolute",top:0,left:0,pointerEvents:"none"}})});}addPropertyControls(DrawLineCursor,{mode:{type:ControlType.Enum,title:"Mode",options:["mouse","path"],optionTitles:["Mouse","Path"],defaultValue:"mouse"},pathPoints:{type:ControlType.Array,title:"Path
            Points",control:{type:ControlType.Object,controls:{x:{type:ControlType.Number,defaultValue:100,min:0,max:1e3},y:{type:ControlType.Number,defaultValue:100,min:0,max:1e3}}},defaultValue:[{x:50,y:50},{x:350,y:50},{x:350,y:350},{x:50,y:350},{x:50,y:50}],hidden:({mode})=>mode!=="path"},speed:{type:ControlType.Number,title:"Path
            Speed",min:.1,max:10,step:.1,defaultValue:2,hidden:({mode})=>mode!=="path"},color:{type:ControlType.Color,title:"Color",defaultValue:"#B3EC11"},size:{type:ControlType.Number,title:"Line Width",min:2,max:32,step:1,defaultValue:8},trailLength:{type:ControlType.Number,title:"Trail
            Length",min:4,max:64,defaultValue:24},hideCursor:{type:ControlType.Boolean,title:"Hide Effect",defaultValue:false}});export default DrawLineCursor; export const __FramerMetadata__ = {"exports":{"default":{"type":"reactComponent","name":"DrawLineCursor","slots":[],"annotations":{"framerSupportedLayoutWidth":"fixed","framerSupportedLayoutHeight":"fixed","framerContractVersion":"1"}},"__FramerMetadata__":{"type":"variable"}}}
            //# sourceMappingURL=./CustomCursor.map